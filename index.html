<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Manga Bin Reader</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f4f4f4;
        }
        .manga-card {
            background-color: white;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .manga-cover {
            max-width: 200px;
            max-height: 300px;
            object-fit: cover;
        }
        button {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 10px 15px;
            margin: 5px;
            border-radius: 4px;
            cursor: pointer;
        }
        input, textarea {
            width: 100%;
            padding: 8px;
            margin: 5px 0;
            box-sizing: border-box;
        }
    </style>
</head>
<body>
    <h1>Manga Bin Reader</h1>
    
    <div id="manga-form">
        <h2>Add New Manga</h2>
        <input type="text" id="manga-name" placeholder="Manga Name">
        <textarea id="manga-description" placeholder="Description"></textarea>
        <input type="file" id="manga-cover">
        <button onclick="addManga()">Add Manga</button>
    </div>

    <div id="manga-list"></div>

    <script>
        // Manga Storage Class
        class MangaStorage {
            constructor() {
                this.mangas = JSON.parse(localStorage.getItem('mangas') || '[]');
            }

            save() {
                localStorage.setItem('mangas', JSON.stringify(this.mangas));
                this.render();
            }

            addManga(manga) {
                this.mangas.push({
                    id: Date.now(),
                    name: manga.name,
                    description: manga.description,
                    cover: manga.cover,
                    chapters: []
                });
                this.save();
            }

            addChapter(mangaId, chapterData) {
                const manga = this.mangas.find(m => m.id === mangaId);
                if (manga) {
                    manga.chapters.push({
                        id: Date.now(),
                        number: chapterData.number,
                        images: chapterData.images
                    });
                    this.save();
                }
            }

            render() {
                const mangaList = document.getElementById('manga-list');
                mangaList.innerHTML = this.mangas.map(manga => `
                    <div class="manga-card">
                        <h3>${manga.name}</h3>
                        ${manga.cover ? `<img src="${manga.cover}" class="manga-cover">` : ''}
                        <p>${manga.description}</p>
                        <button onclick="addChapter(${manga.id})">Add Chapter</button>
                        <div>
                            <strong>Chapters:</strong>
                            ${manga.chapters.map(chapter => 
                                `Chapter ${chapter.number}: ${chapter.images.length} images`
                            ).join('<br>')}
                        </div>
                    </div>
                `).join('');
            }
        }

        // Global manga storage
        const mangaStorage = new MangaStorage();
        mangaStorage.render();

        // Add Manga Function
        function addManga() {
            const nameInput = document.getElementById('manga-name');
            const descInput = document.getElementById('manga-description');
            const coverInput = document.getElementById('manga-cover');

            const name = nameInput.value.trim();
            const description = descInput.value.trim();
            
            if (!name) {
                alert('Please enter a manga name');
                return;
            }

            const manga = { name, description };

            // Handle cover image
            if (coverInput.files.length > 0) {
                const reader = new FileReader();
                reader.onload = (e) => {
                    manga.cover = e.target.result;
                    mangaStorage.addManga(manga);
                    
                    // Reset inputs
                    nameInput.value = '';
                    descInput.value = '';
                    coverInput.value = '';
                };
                reader.readAsDataURL(coverInput.files[0]);
            } else {
                mangaStorage.addManga(manga);
                
                // Reset inputs
                nameInput.value = '';
                descInput.value = '';
            }
        }

        // Add Chapter Function
        function addChapter(mangaId) {
            const chapterNumber = prompt('Enter chapter number:');
            const imageUrls = prompt('Enter image URLs (comma-separated):');
            
            if (chapterNumber && imageUrls) {
                const images = imageUrls.split(',').map(url => url.trim());
                mangaStorage.addChapter(mangaId, {
                    number: chapterNumber,
                    images
                });
            }
        }
    </script>
</body>
</html>